<div class="nav2"  >
    <div class="items sidebar" id="nav-2-display" >
            <a href="/home" class="nav1-items"> <span><img class="icon" src="/public/icons/home.svg" alt=""></span><h2 class="h2-mod">Home</h2></a>
            <a href="/messages" class="nav1-items"> <span><img class="icon" src="/public/icons/message.svg" alt=""></span><h2 class="h2-mod">Message</h2></a>
            <a href="/notifications" class="nav1-items"> <span><img class="icon" src="/public/icons/notification.svg" alt=""></span><h2 class="h2-mod">Notification</h2></a>
            <a href="/profile" class="nav1-items"> <span><img class="icon" src="/public/icons/profile.svg" alt=""></span><h2 class="h2-mod">Profile</h2></a>
            <a href="/login" onclick="return doLogout();" class="nav1-items"> <span><img class="icon" src="/public/icons/logout.svg" alt=""></span><h2 class="h2-mod">Logout</h2></a>

            <div class="search">
                <form onsubmit="return doSearch(this)">
                    <input type="text" class="searchbox" placeholder="Search"> 
                </form>

            </div>
    </div>
    <div class="button" id="tooglebutton" onclick="toogle()">
       <img src="/public/icons/menu.svg" class="icon2"  alt="">
    </div>
    
    
</div>  
</div>
</div>
<script>
function toogle()
{
document.getElementById("nav-2-display").classList.toggle('active');
document.getElementById("tooglebutton").classList.toggle('active2');
}
</script>

<script src="/public/js/socket.io.js"></script>
<script src="/public/js/jquery-3.3.1.min.js"></script>
<script src="/public/js/main.min.js"></script>

<script>

    window.user=null;

    var socketIO = io(mainURL);

    function getUser()
    {
        if(localStorage.getItem("accessToken"))
        {
            var ajax=new XMLHttpRequest();
            ajax.open("POST","/getUser",true);

            ajax.onreadystatechange = function()
            {
                if (this.readyState == 4 && this.status == 200)
                {
                    var response=JSON.parse(this.responseText);

                    if(response.status !="success")
                    {
                        alert(response.message);
                        localStorage.removeItem("accessToken");
                    }

                    console.log(window.location.href);
                    if(window.location.href==mainURL+"/updateProfile")
                    {

                        showProfileData(response.data);
                    }
                    
                }
            };
            var formData = new FormData();
            formData.append("accessToken",localStorage.getItem("accessToken"));
            ajax.send(formData);
        } else{
            window.location.href=("/login");
            alert("Please login first !");
            
        }
    }


    

    function doLogout()
    {
        localStorage.removeItem("accessToken");
        alert("User has been logged out !");
        return True;
    }

    window.onload = function()
    {
        getUser();
    };
     window.onerror = function(file,line,error)
     {
         alert(file + " " + line + " "+ error);
     };


</script>

</body>
</html>